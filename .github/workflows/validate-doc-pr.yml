name: validate-doc-pr
on:
  pull_request:
    types: [edited, opened, reopened, synchronize]
jobs:
  # We need to verify that the PR's title meets our conventions.
  enforce_pr_title:
    runs-on: ubuntu-latest
    name: Enforce PR title convention
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Verify title
        uses: ./github-actions/verify-pr-title
        id: verify-title
  # We also need to verify that the documentation can be properly built.
  verify_docs_are_buildable:
    runs-on: ubuntu-latest
    name: Verify docs can be built
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Build with jekyll
        uses: actions/jekyll-build-pages@v1
        with:
          source: ./docs
          destination: ./docs/_site
          future: false
          verbose: true

